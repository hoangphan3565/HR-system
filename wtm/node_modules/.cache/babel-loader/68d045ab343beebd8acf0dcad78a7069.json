{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Documents\\\\Github\\\\HR-system\\\\wtm\\\\src\\\\Components\\\\Employee\\\\Item.js\";\nimport React from 'react';\nimport { Tag, Tooltip, Button, Modal, Form, Input, Select, DatePicker, notification, Popconfirm } from 'antd';\nimport { SolutionOutlined, DeleteOutlined, UserSwitchOutlined } from '@ant-design/icons';\nimport { useState, useEffect, useRef } from 'react';\nimport EmployeeServices from '../../Services/EmployeeServices';\nimport DepartmentService from '../../Services/DepartmentService';\nimport PositionService from '../../Services/PositionServices';\nimport axios from 'axios';\nimport moment from 'moment';\n\nconst Item = props => {\n  const [form] = Form.useForm();\n  const firstName = useRef();\n  const lastName = useRef();\n  const position = useRef();\n  const department = useRef();\n  const startDate1 = useRef();\n  const [visible, setVisible] = useState(false);\n  const [addVisible, setAddVisible] = useState(false);\n  const [startDate, setStartDate] = useState(props.e.startdate);\n  const [dept, setDept] = useState([]);\n  const [pos, setPos] = useState([]);\n  const layout = {\n    labelCol: {\n      span: 6\n    },\n    wrapperCol: {\n      span: 18\n    }\n  };\n  const {\n    Option\n  } = Select;\n  const [updateModal, setUpdateModal] = useState(false);\n  useEffect(() => {\n    DepartmentService.list().then(res => {\n      setDept(res.data);\n    });\n    PositionService.list().then(res => {\n      setPos(res.data);\n    });\n  }, []);\n  const deptOptions = [];\n\n  for (let i = 0; i < dept.length; i++) {\n    deptOptions.push(dept[i].dep_ID);\n  }\n\n  const posOptions = [];\n\n  for (let i = 0; i < pos.length; i++) {\n    posOptions.push(pos[i].pos_ID);\n  }\n\n  const onFinish = () => {\n    const employee = {\n      \"firstName\": firstName.current.props.value,\n      \"lastName\": lastName.current.props.value,\n      \"startdate\": startDate1.current.props.value._i\n    };\n    const args = {\n      message: 'Created Successfully',\n      description: 'An new employee was added in Your System !',\n      duration: 1,\n      icon: /*#__PURE__*/React.createElement(UserSwitchOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 18\n        }\n      })\n    };\n    setVisible(false);\n    EmployeeServices.update(department.current.props.value, position.current.props.value, employee).then(res => {\n      props.test(\"1\");\n      props.test(\"\");\n      setVisible(false);\n    }, notification.open(args));\n  };\n\n  const onDelete = () => {\n    console.log(props.e.emp_ID);\n    axios.delete(`http://localhost:8080/api/employees/${props.e.emp_ID}`).then(res => {\n      props.test(\"1\");\n      props.test(\"\");\n    });\n    const args = {\n      message: 'Deleted Successfully',\n      description: 'A new employee was deleted in Your System !',\n      duration: 1,\n      icon: /*#__PURE__*/React.createElement(DeleteOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 19\n        }\n      })\n    };\n    notification.open(args);\n  };\n\n  const updateShowModal = () => {\n    updateModal === false ? setUpdateModal(true) : setUpdateModal(false);\n  };\n\n  const toggleVisible = () => {\n    setVisible(true);\n  };\n\n  const toggleAddVisible = () => {\n    setAddVisible(true);\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  const handleAddCancel = () => {\n    setAddVisible(false);\n  };\n\n  const color = [\"magenta\", \"purple\", \"red\", \"volcano\", \"orange\", \"gold\", \"lime\", \"green\", \"cyan\", \"blue\", \"geekblue\"];\n\n  const makecolor = a => {\n    for (let i = 0; i < color.length; i++) {\n      if (a === \"Department 0\" + i) {\n        return /*#__PURE__*/React.createElement(Tag, {\n          color: color[i],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }\n        }, \"D\", i);\n      }\n    }\n  };\n\n  const optionsDept = deptOptions.map(e => {\n    return /*#__PURE__*/React.createElement(Option, {\n      value: e,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, \"Department 0\", e);\n  });\n  const optionsPos = posOptions.map(e => {\n    return /*#__PURE__*/React.createElement(Option, {\n      value: e,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, e === 2 ? \"Nhân viên văn phòng\" : \"Công nhân\");\n  });\n  useEffect(() => {\n    form.setFieldsValue({\n      code: props.e.employeeCode,\n      timeCheckCode: props.e.timeCheckCode,\n      firstName: props.e.firstName,\n      lastName: props.e.lastName,\n      department: props.e.department.dep_ID,\n      position: props.e.position.pos_ID //startDate:props.e.startDate\n\n    });\n  });\n\n  const handleDatePickerChange = (date, dateString) => {\n    setStartDate(dateString);\n  };\n\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    key: props.e.emp_ID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, props.e.emp_ID), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, props.e.employeeCode), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, props.e.timeCheckCode), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, props.e.fullName, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, props.e.position.pos_ID === 2 ? /*#__PURE__*/React.createElement(Tag, {\n    color: \"magenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 50\n    }\n  }, \"NVVP\") : /*#__PURE__*/React.createElement(Tag, {\n    color: \"green\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 86\n    }\n  }, \"CN\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, makecolor(props.e.department.departmentName)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, props.e.startdate), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Update!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    shape: \"circle\",\n    icon: /*#__PURE__*/React.createElement(SolutionOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 31\n      }\n    }),\n    onClick: toggleVisible,\n    style: {\n      backgroundColor: \"rgb(107, 189, 243)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    visible: visible,\n    title: \"Employee Information\",\n    onCancel: handleCancel,\n    footer: [/*#__PURE__*/React.createElement(Button, {\n      key: \"back\",\n      onClick: handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 29\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      key: \"submit\",\n      type: \"primary\",\n      onClick: onFinish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }, \"Update\")],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form, Object.assign({}, layout, {\n    form: form,\n    name: \"control-hooks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Code\",\n    name: \"code\",\n    rules: [{\n      required: true\n    }],\n    hasFeedback: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"middle\",\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"TimeCheck Code\",\n    name: \"timeCheckCode\",\n    rules: [{\n      required: true\n    }],\n    hasFeedback: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"middle\",\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"First Name\",\n    name: \"firstName\",\n    rules: [{\n      required: true\n    }],\n    hasFeedback: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"middle\",\n    ref: firstName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Last Name\",\n    name: \"lastName\",\n    rules: [{\n      required: true\n    }],\n    hasFeedback: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"middle\",\n    ref: lastName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Department\",\n    name: \"department\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    ref: department,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 33\n    }\n  }, optionsDept)), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Postion\",\n    name: \"position\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    ref: position,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 33\n    }\n  }, optionsPos)), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Start Date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    value: moment(`${startDate}`, \"YYYY-MM-DD\"),\n    style: {\n      width: 354\n    },\n    onChange: (date, dateString) => handleDatePickerChange(date, dateString),\n    ref: startDate1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  }))))), /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Delete!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Popconfirm, {\n    title: \"Are you sure to delete this employee!\",\n    placement: \"topRight\",\n    onConfirm: onDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    shape: \"circle\",\n    icon: /*#__PURE__*/React.createElement(DeleteOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 35\n      }\n    }),\n    onClick: toggleAddVisible,\n    style: {\n      backgroundColor: \"rgb(236, 118, 82)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default Item;","map":{"version":3,"sources":["C:/Users/ASUS/Documents/Github/HR-system/wtm/src/Components/Employee/Item.js"],"names":["React","Tag","Tooltip","Button","Modal","Form","Input","Select","DatePicker","notification","Popconfirm","SolutionOutlined","DeleteOutlined","UserSwitchOutlined","useState","useEffect","useRef","EmployeeServices","DepartmentService","PositionService","axios","moment","Item","props","form","useForm","firstName","lastName","position","department","startDate1","visible","setVisible","addVisible","setAddVisible","startDate","setStartDate","e","startdate","dept","setDept","pos","setPos","layout","labelCol","span","wrapperCol","Option","updateModal","setUpdateModal","list","then","res","data","deptOptions","i","length","push","dep_ID","posOptions","pos_ID","onFinish","employee","current","value","_i","args","message","description","duration","icon","update","test","open","onDelete","console","log","emp_ID","delete","updateShowModal","toggleVisible","toggleAddVisible","handleCancel","handleAddCancel","color","makecolor","a","optionsDept","map","optionsPos","setFieldsValue","code","employeeCode","timeCheckCode","handleDatePickerChange","date","dateString","fullName","departmentName","backgroundColor","required","width"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,OAAd,EAAuBC,MAAvB,EAA+BC,KAA/B,EAAsCC,IAAtC,EAA4CC,KAA5C,EAAmDC,MAAnD,EAA2DC,UAA3D,EAAuEC,YAAvE,EAAqFC,UAArF,QAAuG,MAAvG;AACA,SAASC,gBAAT,EAA2BC,cAA3B,EAA2CC,kBAA3C,QAAqE,mBAArE;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA6BC,MAA7B,QAA2C,OAA3C;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,eAAP,MAA4B,iCAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AACA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACpB,QAAM,CAACC,IAAD,IAASnB,IAAI,CAACoB,OAAL,EAAf;AAEA,QAAMC,SAAS,GAAGV,MAAM,EAAxB;AACA,QAAMW,QAAQ,GAAGX,MAAM,EAAvB;AACA,QAAMY,QAAQ,GAAGZ,MAAM,EAAvB;AACA,QAAMa,UAAU,GAAGb,MAAM,EAAzB;AACA,QAAMc,UAAU,GAAGd,MAAM,EAAzB;AAEA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACmB,UAAD,EAAaC,aAAb,IAA8BpB,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACqB,SAAD,EAAWC,YAAX,IAAyBtB,QAAQ,CAACS,KAAK,CAACc,CAAN,CAAQC,SAAT,CAAvC;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB1B,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAAC2B,GAAD,EAAMC,MAAN,IAAgB5B,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM6B,MAAM,GAAG;AACXC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR,KADC;AAEXC,IAAAA,UAAU,EAAE;AAAED,MAAAA,IAAI,EAAE;AAAR;AAFD,GAAf;AAIA,QAAM;AAAEE,IAAAA;AAAF,MAAaxC,MAAnB;AACA,QAAM,CAACyC,WAAD,EAAcC,cAAd,IAAgCnC,QAAQ,CAAC,KAAD,CAA9C;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,iBAAiB,CAACgC,IAAlB,GAAyBC,IAAzB,CAA8BC,GAAG,IAAI;AACjCZ,MAAAA,OAAO,CAACY,GAAG,CAACC,IAAL,CAAP;AACH,KAFD;AAGAlC,IAAAA,eAAe,CAAC+B,IAAhB,GAAuBC,IAAvB,CAA4BC,GAAG,IAAI;AAC/BV,MAAAA,MAAM,CAACU,GAAG,CAACC,IAAL,CAAN;AACH,KAFD;AAGH,GAPQ,EAOP,EAPO,CAAT;AAQA,QAAMC,WAAW,GAAG,EAApB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,IAAI,CAACiB,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClCD,IAAAA,WAAW,CAACG,IAAZ,CAAiBlB,IAAI,CAACgB,CAAD,CAAJ,CAAQG,MAAzB;AACH;;AACD,QAAMC,UAAU,GAAG,EAAnB;;AACA,OAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,GAAG,CAACe,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjCI,IAAAA,UAAU,CAACF,IAAX,CAAgBhB,GAAG,CAACc,CAAD,CAAH,CAAOK,MAAvB;AACH;;AACD,QAAMC,QAAQ,GAAG,MAAM;AACnB,UAAMC,QAAQ,GAAC;AACX,mBAAYpC,SAAS,CAACqC,OAAV,CAAkBxC,KAAlB,CAAwByC,KADzB;AAEX,kBAAWrC,QAAQ,CAACoC,OAAT,CAAiBxC,KAAjB,CAAuByC,KAFvB;AAGX,mBAAYlC,UAAU,CAACiC,OAAX,CAAmBxC,KAAnB,CAAyByC,KAAzB,CAA+BC;AAHhC,KAAf;AAKA,UAAMC,IAAI,GAAG;AACTC,MAAAA,OAAO,EAAE,sBADA;AAETC,MAAAA,WAAW,EACP,4CAHK;AAITC,MAAAA,QAAQ,EAAE,CAJD;AAKTC,MAAAA,IAAI,eAAC,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALI,KAAb;AAOAtC,IAAAA,UAAU,CAAC,KAAD,CAAV;AACAf,IAAAA,gBAAgB,CAACsD,MAAjB,CAAwB1C,UAAU,CAACkC,OAAX,CAAmBxC,KAAnB,CAAyByC,KAAjD,EAAuDpC,QAAQ,CAACmC,OAAT,CAAiBxC,KAAjB,CAAuByC,KAA9E,EAAoFF,QAApF,EAA8FX,IAA9F,CAAmGC,GAAG,IAAE;AACpG7B,MAAAA,KAAK,CAACiD,IAAN,CAAW,GAAX;AACAjD,MAAAA,KAAK,CAACiD,IAAN,CAAW,EAAX;AACAxC,MAAAA,UAAU,CAAC,KAAD,CAAV;AAEJ,KALA,EAKCvB,YAAY,CAACgE,IAAb,CAAkBP,IAAlB,CALD;AAMH,GApBD;;AAqBA,QAAMQ,QAAQ,GAAG,MAAM;AAEnBC,IAAAA,OAAO,CAACC,GAAR,CAAYrD,KAAK,CAACc,CAAN,CAAQwC,MAApB;AACAzD,IAAAA,KAAK,CAAC0D,MAAN,CAAc,uCAAsCvD,KAAK,CAACc,CAAN,CAAQwC,MAAO,EAAnE,EAAsE1B,IAAtE,CAA2EC,GAAG,IAAI;AAC9E7B,MAAAA,KAAK,CAACiD,IAAN,CAAW,GAAX;AACAjD,MAAAA,KAAK,CAACiD,IAAN,CAAW,EAAX;AACH,KAHD;AAKA,UAAMN,IAAI,GAAG;AACTC,MAAAA,OAAO,EAAE,sBADA;AAETC,MAAAA,WAAW,EACP,6CAHK;AAITC,MAAAA,QAAQ,EAAE,CAJD;AAKTC,MAAAA,IAAI,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALG,KAAb;AAQA7D,IAAAA,YAAY,CAACgE,IAAb,CAAkBP,IAAlB;AACH,GAjBD;;AAkBA,QAAMa,eAAe,GAAG,MAAM;AAC1B/B,IAAAA,WAAW,KAAK,KAAhB,GAAwBC,cAAc,CAAC,IAAD,CAAtC,GAA+CA,cAAc,CAAC,KAAD,CAA7D;AACH,GAFD;;AAIA,QAAM+B,aAAa,GAAG,MAAM;AACxBhD,IAAAA,UAAU,CAAC,IAAD,CAAV;AACH,GAFD;;AAGA,QAAMiD,gBAAgB,GAAG,MAAM;AAC3B/C,IAAAA,aAAa,CAAC,IAAD,CAAb;AACH,GAFD;;AAGA,QAAMgD,YAAY,GAAG,MAAM;AACvBlD,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAFD;;AAGA,QAAMmD,eAAe,GAAG,MAAM;AAC1BjD,IAAAA,aAAa,CAAC,KAAD,CAAb;AACH,GAFD;;AAGA,QAAMkD,KAAK,GAAG,CAAC,SAAD,EAAY,QAAZ,EAAsB,KAAtB,EAA6B,SAA7B,EAAwC,QAAxC,EAAkD,MAAlD,EAA0D,MAA1D,EAAkE,OAAlE,EAA2E,MAA3E,EAAmF,MAAnF,EAA2F,UAA3F,CAAd;;AAEA,QAAMC,SAAS,GAAIC,CAAD,IAAO;AACrB,SAAK,IAAI/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6B,KAAK,CAAC5B,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,UAAI+B,CAAC,KAAK,iBAAiB/B,CAA3B,EAA8B;AAC1B,4BACI,oBAAC,GAAD;AAAK,UAAA,KAAK,EAAE6B,KAAK,CAAC7B,CAAD,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAwBA,CAAxB,CADJ;AAGH;AACJ;AACJ,GARD;;AASA,QAAMgC,WAAW,GAAGjC,WAAW,CAACkC,GAAZ,CAAiBnD,CAAD,IAAO;AACvC,wBACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAEA,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA+BA,CAA/B,CADJ;AAGH,GAJmB,CAApB;AAMA,QAAMoD,UAAU,GAAG9B,UAAU,CAAC6B,GAAX,CAAgBnD,CAAD,IAAO;AACrC,wBACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAEA,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmBA,CAAC,KAAK,CAAN,GAAU,qBAAV,GAAkC,WAArD,CADJ;AAGH,GAJkB,CAAnB;AAKAtB,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,IAAI,CAACkE,cAAL,CAAoB;AAChBC,MAAAA,IAAI,EAAEpE,KAAK,CAACc,CAAN,CAAQuD,YADE;AAEhBC,MAAAA,aAAa,EAAEtE,KAAK,CAACc,CAAN,CAAQwD,aAFP;AAGhBnE,MAAAA,SAAS,EAAEH,KAAK,CAACc,CAAN,CAAQX,SAHH;AAIhBC,MAAAA,QAAQ,EAAEJ,KAAK,CAACc,CAAN,CAAQV,QAJF;AAKhBE,MAAAA,UAAU,EAAEN,KAAK,CAACc,CAAN,CAAQR,UAAR,CAAmB6B,MALf;AAMhB9B,MAAAA,QAAQ,EAAEL,KAAK,CAACc,CAAN,CAAQT,QAAR,CAAiBgC,MANX,CAOhB;;AAPgB,KAApB;AASH,GAVQ,CAAT;;AAWA,QAAMkC,sBAAsB,GAAG,CAACC,IAAD,EAAOC,UAAP,KAAsB;AACjD5D,IAAAA,YAAY,CAAC4D,UAAD,CAAZ;AACH,GAFD;;AAGA,sBACI;AAAI,IAAA,GAAG,EAAEzE,KAAK,CAACc,CAAN,CAAQwC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKtD,KAAK,CAACc,CAAN,CAAQwC,MAAb,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKtD,KAAK,CAACc,CAAN,CAAQuD,YAAb,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKrE,KAAK,CAACc,CAAN,CAAQwD,aAAb,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKtE,KAAK,CAACc,CAAN,CAAQ4D,QAAb,MAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK1E,KAAK,CAACc,CAAN,CAAQT,QAAR,CAAiBgC,MAAjB,KAA4B,CAA5B,gBAAgC,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAE,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAhC,gBAAoE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAzE,CALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKyB,SAAS,CAAC9D,KAAK,CAACc,CAAN,CAAQR,UAAR,CAAmBqE,cAApB,CAAd,CANJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK3E,KAAK,CAACc,CAAN,CAAQC,SAAb,CAPJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAC,QADV;AAEI,IAAA,IAAI,eAAE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFV;AAGI,IAAA,OAAO,EAAE0C,aAHb;AAII,IAAA,KAAK,EAAE;AAAEmB,MAAAA,eAAe,EAAE;AAAnB,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAOI,oBAAC,KAAD;AACI,IAAA,OAAO,EAAEpE,OADb;AAEI,IAAA,KAAK,EAAC,sBAFV;AAGI,IAAA,QAAQ,EAAEmD,YAHd;AAII,IAAA,MAAM,EAAE,cACJ,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAC,MAAZ;AAAmB,MAAA,OAAO,EAAEA,YAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADI,eAIJ,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAC,QAAZ;AAAqB,MAAA,IAAI,EAAC,SAA1B;AAAoC,MAAA,OAAO,EAAErB,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJI,CAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAaI,oBAAC,IAAD,oBAAUlB,MAAV;AAAkB,IAAA,IAAI,EAAEnB,IAAxB;AAA8B,IAAA,IAAI,EAAC,eAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,MADV;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,KAAK,EAAE,CAAC;AAAE4E,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CAHX;AAII,IAAA,WAAW,MAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,QAAQ,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CADJ,eAQI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,gBADV;AAEI,IAAA,IAAI,EAAC,eAFT;AAGI,IAAA,KAAK,EAAE,CAAC;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CAHX;AAII,IAAA,WAAW,MAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,QAAQ,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CARJ,eAeI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,YADV;AAEI,IAAA,IAAI,EAAC,WAFT;AAGI,IAAA,KAAK,EAAE,CAAC;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CAHX;AAII,IAAA,WAAW,MAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,GAAG,EAAE1E,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CAfJ,eAsBI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,WADV;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,KAAK,EAAE,CAAC;AAAE0E,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CAHX;AAII,IAAA,WAAW,MAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,GAAG,EAAEzE,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CAtBJ,eA8BI,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,KAAK,EAAC,YAAjB;AAA8B,IAAA,IAAI,EAAC,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAEE,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQ0D,WAFR,CADJ,CA9BJ,eAsCI,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,KAAK,EAAC,SAAjB;AAA2B,IAAA,IAAI,EAAC,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAE3D,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQ6D,UAFR,CADJ,CAtCJ,eA8CI,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,KAAK,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAEE,IAAA,KAAK,EAAEpE,MAAM,CAAE,GAAEc,SAAU,EAAd,EAAiB,YAAjB,CAFf;AAGE,IAAA,KAAK,EAAE;AAAEkE,MAAAA,KAAK,EAAE;AAAT,KAHT;AAIE,IAAA,QAAQ,EAAE,CAACN,IAAD,EAAOC,UAAP,KAAsBF,sBAAsB,CAACC,IAAD,EAAOC,UAAP,CAJxD;AAKE,IAAA,GAAG,EAAElE,UALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CA9CJ,CAbJ,CAPJ,CADJ,eA+EI,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAC,uCAAlB;AAA0D,IAAA,SAAS,EAAC,UAApE;AAA+E,IAAA,SAAS,EAAE4C,QAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAC,QADV;AAEI,IAAA,IAAI,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFV;AAGI,IAAA,OAAO,EAAEO,gBAHb;AAII,IAAA,KAAK,EAAE;AAAEkB,MAAAA,eAAe,EAAE;AAAnB,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CA/EJ,CARJ,CADJ;AAqGH,CApOD;;AAsOA,eAAe7E,IAAf","sourcesContent":["import React from 'react';\r\nimport { Tag, Tooltip, Button, Modal, Form, Input, Select, DatePicker, notification, Popconfirm } from 'antd';\r\nimport { SolutionOutlined, DeleteOutlined, UserSwitchOutlined } from '@ant-design/icons';\r\nimport { useState, useEffect,useRef } from 'react';\r\nimport EmployeeServices from '../../Services/EmployeeServices';\r\nimport DepartmentService from '../../Services/DepartmentService';\r\nimport PositionService from '../../Services/PositionServices';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nconst Item = (props) => {\r\n    const [form] = Form.useForm();\r\n\r\n    const firstName = useRef();\r\n    const lastName = useRef();\r\n    const position = useRef();\r\n    const department = useRef();\r\n    const startDate1 = useRef();\r\n\r\n    const [visible, setVisible] = useState(false);\r\n    const [addVisible, setAddVisible] = useState(false);\r\n    const [startDate,setStartDate]=useState(props.e.startdate);\r\n    const [dept, setDept] = useState([]);\r\n    const [pos, setPos] = useState([]);\r\n    const layout = {\r\n        labelCol: { span: 6 },\r\n        wrapperCol: { span: 18 },\r\n    };\r\n    const { Option } = Select;\r\n    const [updateModal, setUpdateModal] = useState(false);\r\n    useEffect(() => {\r\n        DepartmentService.list().then(res => {\r\n            setDept(res.data);\r\n        })\r\n        PositionService.list().then(res => {\r\n            setPos(res.data);\r\n        })\r\n    },[])\r\n    const deptOptions = [];\r\n    for (let i = 0; i < dept.length; i++) {\r\n        deptOptions.push(dept[i].dep_ID)\r\n    }\r\n    const posOptions = [];\r\n    for (let i = 0; i < pos.length; i++) {\r\n        posOptions.push(pos[i].pos_ID)\r\n    }\r\n    const onFinish = () => {\r\n        const employee={\r\n            \"firstName\":firstName.current.props.value,\r\n            \"lastName\":lastName.current.props.value,\r\n            \"startdate\":startDate1.current.props.value._i\r\n        }\r\n        const args = {\r\n            message: 'Created Successfully',\r\n            description:\r\n                'An new employee was added in Your System !',\r\n            duration: 1,\r\n            icon:<UserSwitchOutlined />\r\n        };\r\n        setVisible(false);\r\n        EmployeeServices.update(department.current.props.value,position.current.props.value,employee).then(res=>{\r\n            props.test(\"1\");\r\n            props.test(\"\");\r\n            setVisible(false);\r\n            \r\n       },notification.open(args))\r\n    }\r\n    const onDelete = () => {\r\n\r\n        console.log(props.e.emp_ID);\r\n        axios.delete(`http://localhost:8080/api/employees/${props.e.emp_ID}`).then(res => {\r\n            props.test(\"1\");\r\n            props.test(\"\");\r\n        })\r\n\r\n        const args = {\r\n            message: 'Deleted Successfully',\r\n            description:\r\n                'A new employee was deleted in Your System !',\r\n            duration: 1,\r\n            icon: <DeleteOutlined />\r\n\r\n        };\r\n        notification.open(args);\r\n    }\r\n    const updateShowModal = () => {\r\n        updateModal === false ? setUpdateModal(true) : setUpdateModal(false);\r\n    }\r\n\r\n    const toggleVisible = () => {\r\n        setVisible(true);\r\n    }\r\n    const toggleAddVisible = () => {\r\n        setAddVisible(true);\r\n    }\r\n    const handleCancel = () => {\r\n        setVisible(false);\r\n    }\r\n    const handleAddCancel = () => {\r\n        setAddVisible(false);\r\n    }\r\n    const color = [\"magenta\", \"purple\", \"red\", \"volcano\", \"orange\", \"gold\", \"lime\", \"green\", \"cyan\", \"blue\", \"geekblue\"];\r\n\r\n    const makecolor = (a) => {\r\n        for (let i = 0; i < color.length; i++) {\r\n            if (a === \"Department 0\" + i) {\r\n                return (\r\n                    <Tag color={color[i]}>D{i}</Tag>\r\n                )\r\n            }\r\n        }\r\n    }\r\n    const optionsDept = deptOptions.map((e) => {\r\n        return (\r\n            <Option value={e}>Department 0{e}</Option>\r\n        );\r\n    })\r\n\r\n    const optionsPos = posOptions.map((e) => {\r\n        return (\r\n            <Option value={e}>{e === 2 ? \"Nhân viên văn phòng\" : \"Công nhân\"}</Option>\r\n        );\r\n    })\r\n    useEffect(() => {\r\n        form.setFieldsValue({\r\n            code: props.e.employeeCode,\r\n            timeCheckCode: props.e.timeCheckCode,\r\n            firstName: props.e.firstName,\r\n            lastName: props.e.lastName,\r\n            department: props.e.department.dep_ID,\r\n            position: props.e.position.pos_ID,\r\n            //startDate:props.e.startDate\r\n        });\r\n    },)\r\n    const handleDatePickerChange = (date, dateString) => {\r\n        setStartDate(dateString);\r\n    }\r\n    return (\r\n        <tr key={props.e.emp_ID}>\r\n            <td>{props.e.emp_ID}</td>\r\n            <td>{props.e.employeeCode}</td>\r\n            <td>{props.e.timeCheckCode}</td>\r\n            <td>{props.e.fullName} </td>\r\n            <td>{props.e.position.pos_ID === 2 ? <Tag color={\"magenta\"}>NVVP</Tag> : <Tag color=\"green\">CN</Tag>}</td>\r\n            <td>{makecolor(props.e.department.departmentName)}</td>\r\n            <td>{props.e.startdate}</td>\r\n            <td>\r\n                <Tooltip title=\"Update!\">\r\n                    <Button\r\n                        shape=\"circle\"\r\n                        icon={<SolutionOutlined />}\r\n                        onClick={toggleVisible}\r\n                        style={{ backgroundColor: \"rgb(107, 189, 243)\" }}\r\n                    />\r\n                    <Modal\r\n                        visible={visible}\r\n                        title=\"Employee Information\"\r\n                        onCancel={handleCancel}\r\n                        footer={[\r\n                            <Button key=\"back\" onClick={handleCancel}>\r\n                                Cancel\r\n                          </Button>,\r\n                            <Button key=\"submit\" type=\"primary\" onClick={onFinish}>\r\n                                Update\r\n                          </Button>\r\n                        ]}\r\n                    >\r\n                        <Form {...layout} form={form} name=\"control-hooks\">\r\n                            <Form.Item\r\n                                label=\"Code\"\r\n                                name=\"code\"\r\n                                rules={[{ required: true }]}\r\n                                hasFeedback>\r\n                                <Input size=\"middle\" readOnly/>\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                                label=\"TimeCheck Code\"\r\n                                name=\"timeCheckCode\"\r\n                                rules={[{ required: true }]}\r\n                                hasFeedback>\r\n                                <Input size=\"middle\" readOnly/>\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                                label=\"First Name\"\r\n                                name=\"firstName\"\r\n                                rules={[{ required: true }]}\r\n                                hasFeedback>\r\n                                <Input size=\"middle\" ref={firstName}/>\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                                label=\"Last Name\"\r\n                                name=\"lastName\"\r\n                                rules={[{ required: true }]}\r\n                                hasFeedback>\r\n                                <Input size=\"middle\" ref={lastName}/>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item label=\"Department\" name=\"department\">\r\n                                <Select ref={department}>\r\n                                    {\r\n                                        optionsDept\r\n                                    }\r\n                                </Select>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item label=\"Postion\" name=\"position\">\r\n                                <Select ref={position}>\r\n                                    {\r\n                                        optionsPos\r\n                                    }\r\n                                </Select>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item label=\"Start Date\">\r\n                                <DatePicker\r\n                               \r\n                                  value={moment(`${startDate}`, \"YYYY-MM-DD\")}\r\n                                  style={{ width: 354 }}\r\n                                  onChange={(date, dateString) => handleDatePickerChange(date, dateString)}\r\n                                  ref={startDate1}\r\n                                />\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </Modal>\r\n                </Tooltip>\r\n                <Tooltip title=\"Delete!\">\r\n                    <Popconfirm title=\"Are you sure to delete this employee!\" placement=\"topRight\" onConfirm={onDelete}>\r\n                        <Button\r\n                            shape=\"circle\"\r\n                            icon={<DeleteOutlined />}\r\n                            onClick={toggleAddVisible}\r\n                            style={{ backgroundColor: \"rgb(236, 118, 82)\" }}\r\n                        />\r\n                    </Popconfirm>\r\n                </Tooltip>\r\n            </td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default Item;"]},"metadata":{},"sourceType":"module"}